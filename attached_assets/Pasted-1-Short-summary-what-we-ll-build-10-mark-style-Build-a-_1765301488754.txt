1. Short summary (what we’ll build — 10-mark style)

Build a secure, enterprise-grade Document Management System (DMS) rebranded for UDAAN to serve multinational companies. Core goals: centralized secure file storage, enterprise access control, advanced file processing (convert/merge/split/ocr/compress/annotate/sign), auditability, multi-region deployment, and integrations (SSO, cloud storage, workflows). Deliver a polished admin + user dashboard, a SuperAdmin for global control, and per-organization tenanting. The system will match and extend features found in consumer tools like iLovePDF while adding enterprise-grade security, multi-user collaboration, and automated dataflows for multinational needs.

2. Top-level assumptions (so grading is fair)

Stack: React frontend (client), Node/Express server, PostgreSQL (or MySQL) + object storage (S3-compatible). Replit dev environment for local testing.

File libs available: sharp, pdf-lib, tesseract or a commercial OCR (optional), archiver.

Multi-tenant: yes (separate orgs, shared codebase).

Must include SuperAdmin user (admin/admin123) plus roles.

Must support on-prem & cloud deployments.

3. 100 Required features (grouped, numbered 1–100)

I grouped them so it’s easy to find and prioritize. These implement iLovePDF-like functionality + DMS, audit, and enterprise features.

Core document workflows (1–20)

Upload single/multiple files (drag & drop + select).

Create folders and nested folder structure per org.

Multi-file selection & bulk operations (move/copy/delete/download).

Versioning (automatic file version history).

File rename and metadata editing.

File preview (PDF, images, Office docs thumbnails).

Download (single file / selected files / folder).

Export to ZIP with custom naming.

Check-in / check-out to prevent concurrent edits.

File locking & advisory locks.

Recycle bin with restore and purge.

Shared links (view-only / download / password-protected).

Expiring share links (time-limited).

Folder-level sharing with access expiry.

Favorite / star files and folders.

Tagging & custom metadata fields (key/value).

Saved searches & smart folders.

Bulk file import (from cloud providers & SFTP).

File lifecycle rules (auto-archive/delete after N days).

Document retention policies per-tenant.

Conversion & manipulation (21–45)

PDF ↔ JPG conversion (single + bulk).

JPG/PNG/TIFF → PDF conversion.

DOCX / PPTX / XLSX → PDF conversion (server-side).

PDF → Word/PowerPoint/Excel (export).

Merge PDFs (order reorderable via UI).

Split PDFs (by page ranges, by size, by bookmarks).

Compress PDF (lossless/quality options).

Rotate pages (single/multiple).

Extract pages to new PDF.

Delete pages from PDF.

Reorder pages with drag/drop.

Convert PDF to images (all pages or selected).

Convert images to single/multi-page PDF.

Add watermark (text/image) to PDFs.

Apply headers & footers (text and page-numbering).

Resize / crop images.

Batch rename & format conversion.

Convert between image formats (JPEG, PNG, TIFF, WebP).

Merge different extensions into single archive (select output ext).

Auto-optimize images for web/mobile.

Flatten PDF form fields.

Repair corrupted PDFs where possible.

Annotate PDFs (highlight, comment, draw, shapes).

Burn-in annotations or keep as overlay.

Export annotations as separate file (JSON / FDF).

Advanced PDF features (46–65)

OCR (image → searchable PDF) with multiple languages.

OCR text export (plain text / Word).

PDF text search within viewer.

Redaction tool (permanent removal of text/images).

Digital e-signatures (certified / basic).

Signature workflows (request signature, reminders).

Seal documents with cryptographic signature.

Form fillable PDFs (create/form-fill/save).

Field auto-detection for forms.

Form data import/export (CSV/XML).

PDF/A archival conversion.

PDF security: add/remove password protection.

Permission-level settings (print/copy/edit restrictions).

Metadata editing and XMP support.

Compare PDFs (visual & text diff).

Accessibility tagging (PDF/UA) guidance.

Split by OCR text markers (e.g., separate invoices).

Barcode/QR code generation & scanning for pages.

Bates numbering for legal workflows.

Page templates & stamping.

Collaboration & workflows (66–80)

Real-time comments & threaded discussions on documents.

@mentions & assignment of tasks on docs.

Document approval workflows (multi-step).

Audit trail per action (view, download, edit).

Activity feed (per-folder / per-doc).

Task reminders & due dates.

Shared workspaces & team folders.

Role-based access (viewer/editor/admin) per folder.

Delegation & temporary access.

Email notifications for relevant events.

Integration with Slack/MS Teams for notifications.

File annotations exportable as tasks.

Collaborative editing integration with Google Docs/Office Online (optional).

Locks + suggested edits system for non-real-time edits.

Multi-language UI support (localization).

Enterprise & security (81–90)

Single sign-on (SAML / OIDC) and SCIM provisioning.

Multi-factor authentication (MFA).

Role-based access control (fine-grained RBAC).

Tenant isolation (multi-tenant data separation).

Encryption at rest & in transit (AES-256, TLS1.2+).

Key Management (bring-your-own-key support).

Data residency / region selection (multi-region storage).

GDPR / CCPA features: data export & right-to-be-forgotten tools.

Detailed audit logs with tamper-evidence.

SOC2 / ISO guidance documentation for auditors.

Integrations, automation & admin (91–100)

API (REST + GraphQL optional) for all features.

Webhooks for file events (upload/convert/complete).

Connectors: Google Drive, OneDrive, Dropbox, Box.

SFTP/FTPS file connector for enterprise ingestion.

Scheduled batch jobs (nightly conversion/compression tasks).

Admin dashboard with usage metrics & billing.

Rate limiting, quotas, and per-tenant throttling.

CLI and SDKs (Node/Python) for automation.

Backup & restore (point-in-time backups).

Monitoring & alerts (Prometheus/Grafana + log aggregation).

4. Architecture & components (important exam detail)

Frontend (React + Tailwind): SPA with pages for Dashboard, Files, Convert, Admin, Reports, Support. Use React Router; bundle with Vite/Next if SSR desired.

Backend (Node/Express): REST + GraphQL endpoints (file upload, processing, auth, admin). Microservice separation recommended: auth service, file-processing service, metadata service, notification service.

File Processor: worker queue (Redis + Bull / RabbitMQ) that runs conversion tasks (pdf-lib, sharp, LibreOffice headless for Office→PDF, Tesseract for OCR).

Storage: Object store (S3 / MinIO for on-prem). Store files by tenant+org+folder path. Maintain metadata in SQL DB.

Database: PostgreSQL for metadata, roles, audit logs.

Cache/Queue: Redis for sessions, caching, task queue.

Search: ElasticSearch or Postgres full-text for search across metadata + OCR text.

Auth: Identity provider with SAML/OIDC integration, JWT for API tokens, SCIM for provisioning.

CI/CD: GitHub Actions / GitLab CI for tests, builds, and deployment; IaC via Terraform for cloud infra.

Observability: Logging (ELK), metrics (Prometheus), alerting (Alertmanager).

5. Data model (high-level)

Tenants (orgs): id, name, region, policy settings.

Users: id, tenant_id, email, role(s), sso_id, status.

Files: id, tenant_id, path, storage_key, current_version_id, size, mime_type, checksum, created_by, created_at.

FileVersions: id, file_id, version_number, storage_key, changes, created_at.

Folders: id, tenant_id, parent_id, metadata.

Shares: id, file_or_folder_id, token, expires_at, permissions.

AuditLogs: id, actor_id, action_type, target_id, metadata, timestamp.

Jobs: id, type, status, input, output, logs.

6. Security & compliance (graded / 10 marks)

Enforce HTTPS everywhere, HSTS.

Use parameterized queries and OWASP guidelines for web apps.

CSP, X-Frame-Options, XSS protections in UI.

Encrypt files at rest (server-side or client-side encryption).

Role separation: SuperAdmin > OrgAdmin > Manager > Editor > Viewer.

Session locking & device management in admin console.

Regular penetration testing & vulnerability scanning.

Provide Data Processing Agreement (DPA) and help customers set data residency.

7. UI/UX (pages & components)

Public landing + rebrand (logo, hero explaining enterprise DMS benefits).

Login (email/SAML), Signup (invite), Forgot password, MFA setup.

Global header: search, notifications, account, help.

Left nav: Workspace switcher (tenant switch), Files, Convert Tools, Approvals, Admin.

Files page: grid/list, breadcrumb, preview pane, action toolbar.

Convert page: drag & drop, tool cards (Merge, Split, Compress, OCR, Convert), progress modal, job history.

Admin area: tenant management, user management (SUPER_ADMIN only), system logs, billing.

Settings: retention, region, SSO config, templates, API keys.

Help center & in-app guided tours (for onboarding).

8. File processing flows (example: Merge PDF)

User uploads multiple files via UI.

Frontend posts files to backend (direct S3 upload with pre-signed URLs to avoid server bandwidth if desired).

Backend enqueues "merge" job to queue with file keys and user context.

Worker fetches inputs, uses pdf-lib to merge pages in requested order.

Worker writes output to object store and updates DB; marks job complete.

User is notified via websocket/webhook and can download or save to folder.

9. Multi-region & multinational considerations

Data residency: allow tenants to choose storage region; separate object buckets per region.

Timezones: store all timestamps in UTC; display based on user timezone (Nepal timezone noted earlier).

Localization: translate UI strings; support locale-based numbering & date formats.

Legal: localization for e-signature validity per country — provide guidance but recommend legal review.

10. Performance, scaling & resiliency

Use pre-signed direct uploads to S3 to avoid backend bottlenecks.

Horizontal scale workers for conversion. Use autoscaling for CPU-heavy OCR jobs.

CDN for file previews & images.

Circuit breakers and back-pressure for heavy workloads (throttling per tenant).

Backup & DR: cross-region replication and periodic snapshot backups.

11. Admin & SuperAdmin specifics (as requested)

SuperAdmin can: create/delete tenants, set global limits, manage billing, view global audit logs, force password resets, view system health dashboards.

Admin pages are accessible only to SUPER_ADMIN middleware (you already started adding this).

SuperAdmin user creation UI must: set initial password, force password change on first login, assign role(s).

Audit trail required for all SuperAdmin actions.

12. Acceptance criteria & testing (mini-exam answer)

Unit tests: 80% coverage for core business logic (file processing, RBAC).

Integration tests: file upload → conversion → download flow.

E2E tests: login, upload, share, convert, download.

Performance tests: sustain X concurrent uploads and Y conversion jobs (specify numbers per infra).

Security tests: SAST/DAST runs, OWASP top 10 checks.

13. Phased roadmap & priorities (MVP → v1 → v2)

MVP (weeks 0–6): Auth + SSO hooks, upload/download, folder & share links, Merge/Split/Convert basic, SuperAdmin creation, worker queue, basic audit logs.

v1 (weeks 6–14): OCR, compress, annotate viewer, password-protected shares, RBAC, connectors (Google Drive), API and webhooks, admin dashboard, backups.

v2 (weeks 14–26): Digital signatures, advanced workflows, multi-region policy, KMS/BYOK, analytics, SDKs, enterprise compliance docs.

14. Deployment & infra checklist

Use Terraform to provision: VPC, RDS, S3, EKS/EC2, Redis, Load Balancer.

CI: build, test, containerize, deploy.

Observability: set up Prometheus + Grafana + ELK.

Secrets store: Vault or cloud KMS.

IAM roles & least-privilege policies for services.

15. Documentation & training (deliverables)

API docs (OpenAPI).

Admin guide for SuperAdmin & OrgAdmin.

User how-to docs for conversion tools.

Runbook for incident response.

Onboarding checklist & sample tenant configuration.

16. Acceptance & rollout plan for multinational clients

Pilot with single tenant in staging region.

Run data residency test and compliance checklist.

Train admin users and run a penetration test before general rollout.

Phased migration of files (bulk import tool + checksum validation).

17. Developer notes (for your Replit project)

Keep superadminMiddleware protecting /admin/admin/users (fix the route path if necessary).

Use pre-signed uploads if Replit/host bandwidth is an issue.

Use job status endpoints and websockets to update the UI with conversion progress.

Add unit tests around fileProcessor service you created (server/services/fileProcessor.ts).

Add quotas to prevent single tenant from monopolizing conversion workers.

18. Quick UI copy & branding suggestions (rebrand)

Product name: UDAAN DMS — tagline: “Secure Document Flight for Global Teams”

Colors: professional palette — deep teal (#005e66), slate gray, bright accent (#ff9f1c) for CTAs.

Logo: a stylized paper-plane + shield (represents secure flight of documents).

Tone: clear, enterprise-friendly, helpful.

19. Deliverable checklist (what I will produce if you want next)

Feature spec (this doc) ✅

API contract document (OpenAPI)

ER diagram + sequence diagrams for file flows

UI mockups for main pages (Dashboard, Convert, Admin)

Starter code snippets for worker job and pre-signed upload flow

Test plan & CI config

20. Final graded recommendation (10-mark style closing)

This specification gives you a production-grade blueprint to rebrand and extend UDAAN into a multinational-ready DMS with iLovePDF-style tools plus enterprise controls. Prioritize the MVP features (upload, convert, merge, share, SuperAdmin RBAC, audit logs) to deliver value fast. Then iterate on OCR, e-signatures, connectors, and compliance. I can now (pick any of the next concrete steps and I’ll produce it right away): create the OpenAPI file, produce UI mockups, write the worker merge/convert example, or generate the admin RBAC middleware code. Tell me which deliverable you want first and I’ll produce it immediately.